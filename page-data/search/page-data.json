{"componentChunkName":"component---src-pages-search-jsx","path":"/search/","result":{"data":{"allMarkdownRemark":{"nodes":[{"excerpt":"ê°œë°œ í™˜ê²½ì„ ìœ„í•œ ê³ ì •í­ ê¸€ê¼´ ê³ ì •í­ ê¸€ê¼´ì´ë€ ê³ ì •í­ ê¸€ê¼´ì€ ëª¨ë“  ë¬¸ìì˜ ê°€ë¡œí­ì´ ë™ì¼í•œ ê¸€ê¼´ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ëŠ” ì½”ë“œì˜ ê°€ë…ì„± í–¥ìƒ ë° ì •ë ¬ì„ ìš©ì´í•˜ê²Œ í•˜ì—¬ ê°œë°œ íš¨ìœ¨ì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ê³ ì •í­ ê¸€ê¼´ì˜ ì¤‘ìš”ì„± ì½”ë“œ ì •ë ¬ ë° ê°€ë…ì„± í–¥ìƒ: ëª¨ë“  ë¬¸ìì˜ í­ì´ ì¼ì •í•˜ê¸° ë•Œë¬¸ì— ì½”ë“œì˜ ì„¸ë¡œ ì¤„ì„ ë§ì¶”ê¸° ì‰½ìŠµë‹ˆë‹¤. ì´ëŠ” ê°€ë…ì„± í–¥ìƒìœ¼ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤. ë¬¸â€¦","fields":{"slug":"/monospaced-font/"},"frontmatter":{"date":"July 14, 2025","title":"ê°œë°œ í™˜ê²½ì„ ìœ„í•œ ê³ ì •í­ ê¸€ê¼´","tags":["xcode"]},"rawMarkdownBody":"\n\n## ê°œë°œ í™˜ê²½ì„ ìœ„í•œ ê³ ì •í­ ê¸€ê¼´\n\n### ê³ ì •í­ ê¸€ê¼´ì´ë€\n\nê³ ì •í­ ê¸€ê¼´ì€ ëª¨ë“  ë¬¸ìì˜ ê°€ë¡œí­ì´ ë™ì¼í•œ ê¸€ê¼´ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ëŠ” ì½”ë“œì˜ ê°€ë…ì„± í–¥ìƒ ë° ì •ë ¬ì„ ìš©ì´í•˜ê²Œ í•˜ì—¬ ê°œë°œ íš¨ìœ¨ì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n### ê³ ì •í­ ê¸€ê¼´ì˜ ì¤‘ìš”ì„±\n\n* ì½”ë“œ ì •ë ¬ ë° ê°€ë…ì„± í–¥ìƒ: ëª¨ë“  ë¬¸ìì˜ í­ì´ ì¼ì •í•˜ê¸° ë•Œë¬¸ì— ì½”ë“œì˜ ì„¸ë¡œ ì¤„ì„ ë§ì¶”ê¸° ì‰½ìŠµë‹ˆë‹¤. ì´ëŠ” ê°€ë…ì„± í–¥ìƒìœ¼ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.\n* ë¬¸ì êµ¬ë¶„ ìš©ì´: `O`(ëŒ€ë¬¸ì O)ì™€ `0`(ìˆ«ì 0), `l`(ì†Œë¬¸ì L)ê³¼ `I`(ëŒ€ë¬¸ì i) ë“± ë¹„ìŠ·í•˜ê²Œ ìƒê¸´ ë¬¸ìë“¤ì„ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\n#### Code\n  \n`before`\n![code-before](./code-before.png)\n`after`\n![code-after](./code-after.png)\n\n  \n#### Command line\n  \n`before`\n![command-before](./command-before.png)\n`after`\n![command-after](./command-after.png)\n    \n\n### ì„¤ì • ë°©ë²•\n\nXcodeì˜ í…Œë§ˆ ë³€ê²½ì„ í†µí•´ ê¸€ê¼´ ë° ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n``` swift\nXcode -> Settings -> Themes -> Font\n```\n![xcode-setting](./xcode-setting.png)\n\n\n"},{"excerpt":"ì´ ê¸€ì€ ì´ì „ ë¸”ë¡œê·¸ì—ì„œ ì´ì „í•œ ê¸€ì…ë‹ˆë‹¤. ì´ì „í•˜ëŠ” ê³¼ì •ì—ì„œ ë‚´ìš©ì„ ìˆ˜ì • ë° ë³´ì™„í•˜ì˜€ìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ ì§„í–‰ ì¤‘ ì•Œë¦¼ì„ ìœ„í•œ Popup ë·° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë„ì…í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê°œë°œ ì§„í–‰ ì¤‘ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì— ì´ìƒì„ ëŠë¼ê³  ë©”ëª¨ë¦¬ ê·¸ë˜í”„ë¥¼ ë¶„ì„í•˜ë˜ ì¤‘ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí•˜ëŠ” ê²ƒì„ ë°œê²¬í•˜ì˜€ìŠµë‹ˆë‹¤. ë¶„ì„ ê²°ê³¼ ë„ì…í•˜ê²Œ ëœ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ retain cyclâ€¦","fields":{"slug":"/swiftui-opensource-memory-leak-solve/"},"frontmatter":{"date":"May 01, 2023","title":"SwiftUI ë¼ì´ë¸ŒëŸ¬ë¦¬ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë¶„ì„ê³¼ í•´ê²°","tags":["Swift","iOS","SwiftUI","ë©”ëª¨ë¦¬"]},"rawMarkdownBody":" > ì´ ê¸€ì€ ì´ì „ ë¸”ë¡œê·¸ì—ì„œ ì´ì „í•œ ê¸€ì…ë‹ˆë‹¤. ì´ì „í•˜ëŠ” ê³¼ì •ì—ì„œ ë‚´ìš©ì„ ìˆ˜ì • ë° ë³´ì™„í•˜ì˜€ìŠµë‹ˆë‹¤.\n\ní”„ë¡œì íŠ¸ ì§„í–‰ ì¤‘ ì•Œë¦¼ì„ ìœ„í•œ Popup ë·° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë„ì…í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê°œë°œ ì§„í–‰ ì¤‘ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì— ì´ìƒì„ ëŠë¼ê³  ë©”ëª¨ë¦¬ ê·¸ë˜í”„ë¥¼ ë¶„ì„í•˜ë˜ ì¤‘ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí•˜ëŠ” ê²ƒì„ ë°œê²¬í•˜ì˜€ìŠµë‹ˆë‹¤. ë¶„ì„ ê²°ê³¼ ë„ì…í•˜ê²Œ ëœ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ retain cycle ë¬¸ì œê°€ ë°œìƒí•œ ê²ƒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë„ì… í›„ ë§ì€ ë¶€ë¶„ì— ì ìš©ë˜ê³  ìˆì–´ ëŒ€ì²´í•˜ê¸° ì–´ë µë‹¤ê³  ìƒê°í•˜ì—¬ ì´ìŠˆë¥¼ ì§ì ‘ í•´ê²°í•´ë³´ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n## ì½”ë“œ êµ¬ì¡°\n\në¬¸ì œ ìƒí™©ì„ ë³´ê¸° ì „ í˜„ì¬ ì½”ë“œ êµ¬ì¡°ë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\nğŸ“‚ [`FullscreenPopup.swift`](https://github.com/exyte/PopupView/blob/master/Sources/PopupView/FullscreenPopup.swift)\n``` swift\npublic struct FullscreenPopup<Item: Equatable, PopupContent: View>: ViewModifier {\n\t...\n    var autohideIn: Double?\n\tprivate var dispatchWorkHolder = DispatchWorkHolder()\n    @State private var dismissSource: DismissSource?\n    \n    public func body(content: Content) -> some View {\n\t    ...\n\t\tappearAction(sheetPresented: newValue != nil)\n\t\t...\n    }\n    ...\n}\n```\n\n``` swift\nfunc appearAction(sheetPresented: Bool) {\n\tif sheetPresented {\n\t\t...\n\t\tsetupAutohide()\n\t\t...\n\t}\n}\n```\n\n``` swift\nfunc setupAutohide() {\n\tif let autohideIn = autohideIn {\n\t\tdispatchWorkHolder.work = DispatchWorkItem(block: { [weak isPresentedRef, weak itemRef] in\n\t\t\t...\n\t\t\tdismissSource = .autohide\n\t\t\t...\n\t\t})\n\n\t\tif sheetPresented, let work = dispatchWorkHolder.work {\n\t\t\tDispatchQueue.main.asyncAfter(deadline: .now() + autohideIn, execute: work)\n\t\t}\n\t}\n}\n```\n\nğŸ“‚ [`Utils.swift`](https://github.com/exyte/PopupView/blob/master/Sources/PopupView/Utils.swift)\n``` swift\nfinal class DispatchWorkHolder {\nÂ  Â  var work: DispatchWorkItem?\n}\n```\n\n`DispatchWorkHolder`ê°ì²´ëŠ” ìˆ˜í–‰í•  ë¸”ë¡ì„ ê°€ì§€ëŠ” ê°ì²´ì…ë‹ˆë‹¤. `autohideIn` ë³€ìˆ˜ê°€ ê°’ì„ ê°€ì§€ê³  ìˆì„ ë•Œ, í˜„ì¬ ë‚˜íƒ€ë‚œ íŒì—… ë·°ê°€ ì‚¬ë¼ì§€ë„ë¡ `dismisSource`ë¥¼ `.autohide`ë¡œ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ ë¸”ë¡ì„ ìƒì„±í•˜ì—¬ `DispatchWorkHolder` ë‚´ë¶€ `DispatchWorkItem`ì„ êµì²´í•©ë‹ˆë‹¤. ì´í›„ `autohideIn`ì˜ ê°’ë§Œí¼ì˜ ì‹œê°„ì´ ì§€ë‚œ í›„ ì´ í•¨ìˆ˜ ë¸”ë¡ì„ ì‹¤í–‰í•˜ë„ë¡ ìŠ¤ì¼€ì¤„ë§í•©ë‹ˆë‹¤.\n\n## ë¬¸ì œ ìƒí™©\n\ní˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ìë“¤ì˜ ì‚¬ì§„ ë° ì˜ìƒì„ í”¼ë“œ í˜•ì‹ìœ¼ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤. í”¼ë“œ í˜ì´ì§€ì—ì„œ í•¸ë“œí° ë°œì—´ì´ ìƒê¸°ê³  ì•±ì´ í¬ë˜ì‹œë‚˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ë°œìƒí•˜ì—¬ ì´ë¥¼ í•´ê²°í•˜ê³ ì ì•±ì„ ë¶„ì„í•˜ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤. `Debug Navigator`ë¥¼ í†µí•´ CPUì™€ ë©”ëª¨ë¦¬ë¥¼ ë¶„ì„í•˜ë˜ ì¤‘ ë©”ëª¨ë¦¬ê°€ ê³„ì†í•´ì„œ ì¦ê°€í•˜ëŠ” í˜„ìƒì„ ë°œìƒí•˜ì—¬ ì´ë¥¼ ë¶„ì„í•˜ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n## ë¶„ì„ ë„êµ¬ë¥¼ í†µí•œ ë©”ëª¨ë¦¬ ë¶„ì„\n\nXcodeì—ì„œ ë©”ëª¨ë¦¬ë¥¼ ë¶„ì„í•  ìˆ˜ ìˆëŠ” ë„êµ¬ëŠ” ë‘ ê°€ì§€ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.\n\n- Memory Graph\n- Instruments\n\në©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë¶„ì„í•˜ê¸° ìœ„í•´ì„œ í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œ í›„ ë©”ëª¨ë¦¬ ê·¸ë˜í”„ ë° Instrumentsì˜ Leaks í…œí”Œë¦¿ì„ í™œìš©í•˜ì—¬ í˜„ì¬ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ì–´ë–»ê²Œ ë°œìƒí•˜ê³  ìˆëŠ”ì§€ ë¶„ì„í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n### Memory Graph\n\n![Simple retain cycle][./memory-graph-retain-cycle.png]\n\n`Memory Graph`ëŠ” ê°ì²´ì˜ ìœ ë¬´ì™€ ê´€ê³„ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆëŠ” ë””ë²„ê¹… ë„êµ¬ ì…ë‹ˆë‹¤. ì•±ì´ ì‹¤í–‰ëœ í›„ íŠ¹ì • ì‹œì ì— í• ë‹¹ëœ ë©”ëª¨ë¦¬ì™€ ê°ì²´ë“¤ì˜ ì°¸ì¡° ê´€ê³„ë¥¼ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŒì—…ì´ ëœ¨ê³  ì‚¬ë¼ì§„ í›„ì˜ ì‹œì ìœ¼ë¡œ retain cycleì´ ë‹¤ìŒê³¼ ê°™ì´ ë°œìƒí•˜ëŠ” ê²ƒì„ ë¶„ì„í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. \n### Instruments\n\n![[./Instruments-leaks.png]]\nInstrumentsì˜ LeaksëŠ” ì•±ì´ ì‹¤í–‰ë˜ë©´ì„œ ëˆ„ìˆ˜\bë¡œ ì˜ì‹¬ë˜ëŠ” ë©”ëª¨ë¦¬ë¥¼ ìë™ìœ¼ë¡œ ì°¾ì•„ì„œ ì•Œë ¤ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì²´ì˜ ê´€ê³„ë¥¼ ì¶”ì í•˜ë©´ì„œ í•´ì œê°€ ë˜ì§€ ì•ŠëŠ” ë¸”ë¡ì„ ë³´ì—¬ì£¼ëŠ” íˆ´ì…ë‹ˆë‹¤. ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¡œ ì˜ì‹¬ë˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì¬í˜„í•˜ì—¬ ì–´ëŠ ì‹œì ì— ëˆ„ìˆ˜ê°€ ì˜ì‹¬ë˜ëŠ”ì§€ì™€ ì–´ë–¤ ê°ì²´ê°€ í• ë‹¹ í•´ì œê°€ ë˜ì§€ ì•ŠëŠ”ì§€ íŒŒì•…í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n## ì½”ë“œ ë¶„ì„\n\ní…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ì‘ì„±í•˜ê³  ë¬¸ì œ ìƒí™©ì„ ì¬í˜„í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì¬í˜„í•˜ëŠ” ê³¼ì •ì—ì„œ ì •í™•í•œ ë¬¸ì œ ìƒí™©ì„ íŒŒì•…í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n### ìƒí™© 1\n\níŒì—…ì€ í‘œì‹œ ì—¬ë¶€ë¥¼ ì™¸ë¶€ ìƒíƒœ ê°’ì„ Bindingí•©ë‹ˆë‹¤. ì´ë•Œ ì™¸ë¶€ ìƒíƒœ ê°’ì„ `@State`ë°”ì¸ë”© í–ˆì„ ë•Œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ëŠ” ë°œìƒí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\n``` swift\nstruct ContentView: View {\n\t@State var isShowingPopup = false\nÂ  Â  var body: some View {\nÂ  Â  Â  Â  }\nÂ  Â  Â  Â  .popup(isPresented: $isShowingPopup) {\n\tÂ  Â  Â  Â  ...\nÂ  Â  Â  Â  } customize: {\nÂ  Â  Â  Â  Â  Â  $0.autohideIn(2)\nÂ  Â  Â  Â  }\nÂ  Â  }\n}\n```\n\n\n### ìƒí™© 2\n\në°˜ë©´ ì™¸ë¶€ ê°ì²´ì˜ ìƒíƒœê°’ì— Bindingì„ í•˜ê²Œ ë˜ë©´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” ViewModelì„ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— í˜„ì¬ ìƒí™©ê³¼ ê°™ì€ ì‹œë‚˜ë¦¬ì˜¤ì…ë‹ˆë‹¤.\n\n``` swift\nfinal class ViewModel: ObservableObject {\nÂ  Â  @Published var isShowingPopup = false\n}\n```\n\n``` swift\nstruct ContentView: View {\n\t@State var viewModel = ViewModel()\nÂ  Â  var body: some View {\nÂ  Â  Â  Â  }\nÂ  Â  Â  Â  .popup(isPresented: $viewModel.isShowingPopup) {\n\tÂ  Â  Â  Â  ...\nÂ  Â  Â  Â  } customize: {\nÂ  Â  Â  Â  Â  Â  $0.autohideIn(2)\nÂ  Â  Â  Â  }\nÂ  Â  }\n}\n```\n\n`autohideIn` í•¨ìˆ˜ ë‚´ë¶€ì˜ í´ë¡œì €ê°€ `self`ë¥¼ ìº¡ì²˜í•˜ë©´ì„œ `FullScreenPopup` ë‚´ë¶€ì˜ ê°ì²´ ëª¨ë‘ referece countê°€ 1 ì¦ê°€í•˜ë©´ì„œ ì‚¬ì´í´ì´ ë‹«íˆëŠ” í˜„ìƒì´ ë°œìƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\n## í•´ê²° ë°©ë²• ì¶”ë¡ \n\nì‚¬ì´í´ì„ ëŠëŠ” ë°©ë²•ìœ¼ë¡œ ì„¸ ê°€ì§€ ì •ë„ì˜ í•´ê²° ë°©ì•ˆì„ ìƒê°í–ˆìŠµë‹ˆë‹¤.\n\n- referenceë¥¼ ê°€ì§€ì§€ ì•ŠëŠ” ê°ì²´ë¡œ ë³€ê²½ (class -> struct)\n- ì•½í•œ ì°¸ì¡°(weak self)\n- ì§ì ‘ í• ë‹¹ í•´ì œ\n### Solution2. class â†’ structë¡œ ë³€ê²½\n\n`DispatchWorkHolder`ëŠ” classì´ë©° ì°¸ì¡° íƒ€ì…ì´ê¸° ë•Œë¬¸ì— Reference countë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤. ë•Œë¬¸ì— ë‹¨ìˆœí•˜ê²Œ ê°’ íƒ€ì…ì¸ structë¡œ ë³€ê²½í•œë‹¤ë©´ í•´ê²°í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ìƒê°í•˜ì—¬ `DispatchWorkHolder`ë¥¼ structë¡œ ë°”ê¿”ë³´ì•˜ìŠµë‹ˆë‹¤.\n\n```swift\nstruct DispatchWorkHolder {\n    var work: DispatchWorkItem?\n}\n\npublic struct FullscreenPopup<Item: Equatable, PopupContent: View>: ViewModifier {\n    // ...\n    \n    /// holder for autohiding dispatch work (to be able to cancel it when needed)\n    private var dispatchWorkHolder = DispatchWorkHolder()\n    \n    // ...\n    \n    func setupAutohide() {\n        // if needed, dispatch autohide and cancel previous one\n        if let autohideIn = autohideIn {\n            dispatchWorkHolder.work?.cancel()\n\n            // Weak reference to avoid the work item capturing the struct,\n            // which would create a retain cycle with the work holder itself.\n\n            dispatchWorkHolder.work = DispatchWorkItem(block: { [weak isPresentedRef, weak itemRef] in\n                isPresentedRef?.value.wrappedValue = false\n                itemRef?.value.wrappedValue = nil\n                dismissSource = .autohide\n            })\n            if sheetPresented, let work = dispatchWorkHolder.work {\n                DispatchQueue.main.asyncAfter(deadline: .now() + autohideIn, execute: work)\n            }\n        }\n    }\n}\n```\n\ní•˜ì§€ë§Œ ì œê°€ ê°„ê³¼í•œ ê²ƒì´ ìˆì—ˆëŠ”ë°, êµ¬ì¡°ì²´ëŠ” ë‚´ë¶€ í”„ë¡œí¼í‹°ì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í”„ë¡œí¼í‹°ë¥¼ ê°€ì§€ëŠ” `FullscreenPopup`ì´ êµ¬ì¡°ì²´ì´ê¸° ë•Œë¬¸ì— ì´ëŠ” í•´ê²° ë°©ë²•ì´ ë  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.\n\n### Sloution2. weak self\n\nì•½í•œ ì°¸ì¡°ë¥¼ í•˜ë©´ Reference countë¥¼ ì¦ê°€ì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤. `setupAutohide()` ë‚´ë¶€ì˜ í´ë¡œì €ì—ì„œ `DispatchWorkHolder`ë¥¼ ì¬ì°¸ì¡°í•˜ê¸° ë•Œë¬¸ì— cycleì´ ìƒê¸´ë‹¤ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ëŠ” í´ë¡œì € êµ¬ë¬¸ì—ì„œ `weak self`ë¥¼ í†µí•´ í•´ê²°í•  ìˆ˜ ìˆì„ ê²ƒì´ë¼ ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í˜„ì¬ `FullscreenPopup`ì€ êµ¬ì¡°ì²´ì…ë‹ˆë‹¤. êµ¬ì¡°ì²´ëŠ” ARCì˜ ëŒ€ìƒì´ ì•„ë‹ˆê³  ì•½í•œ ì°¸ì¡°ì˜ ê°œë…ì€ classì—ë§Œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì´ëŠ” í•´ê²° ë°©ë²•ì´ ë  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.\n\n### Solution3. ì§ì ‘ í• ë‹¹ í•´ì œ\n\nReference countë¥¼ ì¤„ì´ëŠ” ë°©ë²• ì¤‘ì— í•˜ë‚˜ë¡œ í•´ë‹¹ ê°ì²´ë¥¼ nilë¡œ ë°”ê¿”ì£¼ëŠ” ê²ƒì´ ìˆìŠµë‹ˆë‹¤. ìµœì¢…ì ìœ¼ë¡œ ìƒê°í•œ ë°©ë²•ìœ¼ë¡œ í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ ì‹œì ì— `DispatchWorkItem`ì„ nilë¡œ ë§Œë“¤ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤.\n\n```swift\nfunc setupAutohide() {\n    // if needed, dispatch autohide and cancel previous one\n    if let autohideIn = autohideIn {\n        dispatchWorkHolder.work?.cancel()\n        \n        // Weak reference to avoid the work item capturing the struct,\n        // which would create a retain cycle with the work holder itself.\n        \n        dispatchWorkHolder.work = DispatchWorkItem(block: { [weak isPresentedRef, weak itemRef] in\n            isPresentedRef?.value.wrappedValue = false\n            itemRef?.value.wrappedValue = nil\n            dismissSource = .autohide\n            dispatchWorkHolder.work = nil\n        })\n        if sheetPresented, let work = dispatchWorkHolder.work {\n            DispatchQueue.main.asyncAfter(deadline: .now() + autohideIn, execute: work)\n        }\n    }\n}\n```\n\nì´ ë°©ë²•ì„ í†µí•´ cycleì„ ëŠê³  ëˆ„ìˆ˜ë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n![[./instruments-leaks-solve.png]]\n## ë§ˆì¹˜ë©°\n\në¹„ë¡ ì½”ë“œ í•œ ì¤„ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ì˜€ì§€ë§Œ, í•´ê²°í•˜ëŠ” ê³¼ì •ì—ì„œ ì½”ë“œ ë¶„ì„, ë©”ëª¨ë¦¬ ê´€ë ¨, ì°¸ì¡° ê´€ë ¨ ê³µë¶€ë¡œë§Œ 1ì£¼ì¼ì€ ì‚¬ìš©í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤. í¬ê¸°í• ê¹Œë„ ìƒê°í–ˆì§€ë§Œ í•  ìˆ˜ ìˆì„ ê²ƒì´ë¼ëŠ” ìƒê°ê³¼ í•´ë‚´ê³  ë§ê² ë‹¤ëŠ” ì§‘ë… í•˜ë‚˜ë¡œ ê³„ì† ì§„í–‰í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì¢‹ì€ ë°©ë²•ì¸ì§€ëŠ” ëª¨ë¥´ê² ì§€ë§Œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆê³  ê²°ê³¼ì ìœ¼ë¡œ ì—„ì²­ë‚œ ê³µë¶€ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ê°œë°œìë¡œì„œ í•œ ì¸µ ì„±ì¥í•˜ê³ , ê°œë°œí•˜ëŠ” ê²ƒì´ ë”ìš± ì¬ë°Œì–´ì§€ëŠ” ê²½í—˜ì´ì—ˆìŠµë‹ˆë‹¤.\n\n\n## ì°¸ê³  ìë£Œ\n\n- [PopupView GitHub Repository](https://github.com/exyte/PopupView)\n"}]}},"pageContext":{}},"staticQueryHashes":[],"slicesMap":{}}